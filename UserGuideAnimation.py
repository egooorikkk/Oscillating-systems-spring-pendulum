import tkinter as tk
from tkinter import ttk

class UserGuideAnimation:
    def __init__(self, parent):
        # Создаем новое окно с руководством пользователя
        self.window = tk.Toplevel(parent)
        self.window.title("Руководство пользователя")
        self.window.geometry("800x600") 

        self.create_widgets()

    def create_widgets(self):
        # Создаем фрейм для текста и кнопки
        frame = tk.Frame(self.window)
        frame.pack(padx=20, pady=20, fill=tk.BOTH, expand=True)

        # Создаем текст с руководством пользователя (анимация)
        user_guide_text = """
                                                                    Руководство пользователя

        1. Ввод данных:
        В программе пользователю предлагается ввести два параметра:
        - Жёсткость пружины (Н/м) — определяет, насколько сильно пружина сопротивляется деформации. Чем выше жёсткость, тем быстрее будет колебаться маятник.
        - Масса груза (кг) — масса объекта, прикрепленного к пружине. Эта величина также влияет на период колебаний маятника.

        После ввода этих данных нажмите кнопку "Запуск анимации", чтобы увидеть движение маятника.

        2. Запуск анимации:
        Когда вы нажимаете кнопку "Запуск анимации", окно с анимацией маятника открывается, и начинается моделирование его движения. Маятник будет двигаться, отображая его смещение с течением времени.

        3. Управление анимацией:
        После запуска анимации, у вас есть несколько опций:
        - Остановить: Кнопка остановит движение маятника. Когда движение остановится, программа покажет сообщение о завершении анимации.
        - Продолжить: Если анимация была остановлена, вы можете продолжить её с того места, где она была приостановлена.
        - Назад: Эта кнопка закрывает окно с анимацией и возвращает вас в главное окно программы.

        4. Анимация пружинного маятника:
        Анимация показывает движение маятника, который прикреплен к пружине. Он колеблется с определённой амплитудой и частотой, которая зависит от введённых значений массы и жёсткости пружины. Эти параметры влияют на период колебаний маятника.

        Для расчета положения маятника используется следующая физическая модель:
        - Период колебаний зависит от массы груза (m) и жёсткости пружины (k), вычисляется по формуле:
        T = 2π * √(m / k), где T — период колебаний, m — масса груза, k — жёсткость пружины.
        - При анимации учитывается затухание колебаний (damping), что означает постепенное замедление движения.

        5. Ошибки:
        Если введенные значения некорректны (например, масса или жёсткость равны нулю или отрицательные), программа выдаст сообщение об ошибке.

        6. Пример использования:
        - Введите значение жёсткости пружины (например, 100 Н/м).
        - Введите значение массы груза (например, 2 кг).
        - Нажмите "Запуск анимации", чтобы увидеть, как маятник начинает колебаться.
        """

        # Используем Text widget для длинного текста с возможностью прокрутки
        text_widget = tk.Text(frame, wrap=tk.WORD, font=("Arial", 12), padx=10, pady=10, bg="#f7f7f7", height=20)
        text_widget.insert(tk.END, user_guide_text)
        text_widget.config(state=tk.DISABLED)  # Чтобы текст не был редактируемым

        # Добавляем Scrollbar для прокрутки
        scrollbar = tk.Scrollbar(self.window, command=text_widget.yview)
        text_widget.config(yscrollcommand=scrollbar.set)
        scrollbar.pack(side=tk.RIGHT, fill=tk.Y)
        text_widget.pack(expand=True, fill=tk.BOTH)

        # Добавляем кнопку "Назад"
        back_button = ttk.Button(self.window, text="Назад", command=self.close_window)
        back_button.pack(pady=10)

    def close_window(self):
        # Закрытие окна руководства
        self.window.destroy()