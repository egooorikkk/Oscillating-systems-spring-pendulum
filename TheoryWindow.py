import tkinter as tk
from tkinter import ttk

class TheoryWindow:
    def __init__(self, main_window):
        self.main_window = main_window
        self.theory_window = tk.Toplevel()
        self.theory_window.title("Теория")
        self.theory_window.geometry("800x700")
        self.theory_window.configure(bg="#f7f7f7")

        # Заголовок теории
        title_label = tk.Label(self.theory_window, text="Теория: Пружинный маятник", font=("Arial", 16, "bold"), bg="#f7f7f7")
        title_label.pack(pady=15)

        # Текст теории
        theory_text = """
        Пружинный маятник – это классическая механическая система, в которой груз прикреплён к пружине. Эта система является примером гармонического осциллятора, то есть объекта, который совершает периодические колебания. Основной особенностью пружинного маятника является то, что его колебания происходят под действием силы упругости, которая пропорциональна смещению тела от положения равновесия (закон Гука).

        Важные аспекты теории пружинного маятника:

        1. Гармонические колебания: 
        Колебания пружинного маятника являются гармоническими, то есть они описываются синусоидальной функцией времени. Это означает, что объект периодически возвращается в своё начальное положение, проходя через его максимум и минимум с одинаковыми промежутками времени.

        2. Закон Гука:
        Согласно закону Гука, сила упругости (F) в пружине пропорциональна смещению (x) от её исходного положения:
            F = -kx, 
        где k – жесткость пружины (Н/м), x – смещение от положения равновесия (м). Минус в уравнении указывает на то, что сила направлена в противоположную сторону от смещения.

        3. Период колебаний:
        Период колебаний (T) пружинного маятника зависит от массы груза (m) и жесткости пружины (k). Формула для периода имеет вид:
            T = 2π * sqrt(m / k),
        где m – масса груза (кг), k – коэффициент жесткости пружины (Н/м). Чем меньше масса груза или больше жесткость пружины, тем короче период колебаний, то есть маятник совершает больше колебаний за единицу времени.

        4. Частота колебаний:
        Частота (f) – это величина, обратная периоду. Она определяет количество полных колебаний за единицу времени. Частота колебаний может быть найдена по формуле:
            f = 1 / T = 1 / (2π * sqrt(m / k)),
        где f – частота колебаний (Гц).

        5. Смещение и амплитуда колебаний:
        Смещение груза в любой момент времени можно выразить через амплитуду (A) и угловую частоту (ω):
            x(t) = A * sin(ωt),
        где A – амплитуда колебаний (м), ω = sqrt(k / m) – угловая частота колебаний (рад/с), t – время (с). Амплитуда – это максимальное отклонение груза от положения равновесия.

        6. Кинетическая энергия (E_k):
        Кинетическая энергия груза зависит от его массы и скорости. Формула для кинетической энергии имеет вид:
            E_k = 0.5 * m * v^2,
        где v – скорость груза в момент времени. Скорость можно выразить через производную от смещения по времени:
            v(t) = A * ω * cos(ωt).

        7. Потенциальная энергия (E_p):
        Потенциальная энергия пружины зависит от её деформации, то есть от смещения груза. Формула для потенциальной энергии:
            E_p = 0.5 * k * x^2,
        где x – смещение груза от положения равновесия.

        8. Закон сохранения энергии:
        В идеальных условиях (без потерь на трение или другие силы сопротивления) энергия в системе сохраняется. Это означает, что сумма кинетической и потенциальной энергии остаётся постоянной на протяжении всех колебаний. Таким образом, максимальная кинетическая энергия равна максимальной потенциальной энергии:
            E_k(max) = E_p(max).

        9. Связь с другими физическими явлениями:
        Пружинный маятник является основой для изучения множества других физических явлений, таких как маятник с амортизацией, механическое сопротивление и различные колебательные системы.

        Влияние амортизации:
        В реальных системах на колебания маятника всегда влияет амортизация (сопротивление среды), которая постепенно снижает амплитуду колебаний. Однако, несмотря на это, для большинства практических задач маятник часто моделируется как идеальный (без потерь на трение).

        10. Применение:
        Пружинные маятники широко используются для изучения различных физических явлений, а также в инженерных приложениях, таких как амортизаторы в автомобилях, системы стабилизации, а также в приборах для измерения жесткости.
        """ 

        # Создаём виджет для текста с прокруткой
        text_frame = tk.Frame(self.theory_window)
        text_frame.pack(padx=20, pady=10, fill="both", expand=True)

        # Добавляем полосу прокрутки
        scrollbar = tk.Scrollbar(text_frame)
        scrollbar.pack(side="right", fill="y")

        # Виджет Text для отображения теории
        text_widget = tk.Text(text_frame, wrap="word", font=("Arial", 12), bg="#f7f7f7", yscrollcommand=scrollbar.set)
        text_widget.insert(tk.END, theory_text)
        text_widget.config(state=tk.DISABLED)  # Текст только для чтения
        text_widget.pack(side="left", fill="both", expand=True)

        # Настроим прокрутку
        scrollbar.config(command=text_widget.yview)

        # Кнопка назад
        back_button = ttk.Button(self.theory_window, text="Назад", command=self.theory_window.destroy)
        back_button.pack(pady=20)
